<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X Project - UI/UX Design Quote</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .checkbox-item:has(input:checked) { background-color: rgb(239 246 255); border-color: rgb(59 130 246); }
        .radio-item:has(input:checked) { background-color: rgb(239 246 255); border-color: rgb(59 130 246); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-xl font-bold text-gray-900">X Project</h1>
                    <p class="text-sm text-gray-500">UI/UX Design Quote</p>
                </div>
                <div class="text-right">
                    <p class="text-sm text-gray-500">Rate</p>
                    <p class="text-lg font-semibold text-gray-900">$15/hour</p>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 py-8">
        <!-- Project Summary -->
        <div class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-2">Project Summary</h2>
            <p class="text-gray-600 text-sm mb-4">Mobile-first SaaS Application + Product Landing Page. Design only (Figma deliverables).</p>
            <div class="grid grid-cols-3 gap-4 text-center">
                <div class="bg-gray-50 rounded-lg p-3">
                    <p class="text-2xl font-bold text-blue-600">30</p>
                    <p class="text-xs text-gray-500">App Screens</p>
                </div>
                <div class="bg-gray-50 rounded-lg p-3">
                    <p class="text-2xl font-bold text-blue-600">7</p>
                    <p class="text-xs text-gray-500">Landing Sections</p>
                </div>
                <div class="bg-gray-50 rounded-lg p-3">
                    <p class="text-2xl font-bold text-blue-600">3</p>
                    <p class="text-xs text-gray-500">Revision Rounds</p>
                </div>
            </div>
        </div>

        <!-- Design Phases -->
        <section class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-lg font-semibold text-gray-900">Design Phases</h2>
                <button onclick="toggleAllPhases()" class="text-sm text-blue-600 hover:text-blue-700 font-medium">Select All</button>
            </div>

            <div class="space-y-3" id="phases-container">
                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="phase" value="discovery" data-hours="10" data-price="150" checked class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Discovery</p>
                            <p class="text-sm text-gray-500">Industry flows, competitive analysis</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$150</p>
                        <p class="text-xs text-gray-500">10h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="phase" value="wireframes" data-hours="16" data-price="240" checked class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Wireframes</p>
                            <p class="text-sm text-gray-500">Flow diagrams for 4 workflows</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$240</p>
                        <p class="text-xs text-gray-500">16h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="phase" value="design-system" data-hours="3" data-price="45" checked class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Design System</p>
                            <p class="text-sm text-gray-500">UI kit setup, tokens, components</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$45</p>
                        <p class="text-xs text-gray-500">3h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="phase" value="hifi-screens" data-hours="64" data-price="960" checked class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Hi-Fi App Screens</p>
                            <p class="text-sm text-gray-500">30 unique mobile screens</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$960</p>
                        <p class="text-xs text-gray-500">64h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="phase" value="prototype" data-hours="8" data-price="120" checked class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Interactive Prototype</p>
                            <p class="text-sm text-gray-500">4 core workflow demos</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$120</p>
                        <p class="text-xs text-gray-500">8h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="phase" value="handoff" data-hours="8" data-price="120" checked class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Developer Handoff</p>
                            <p class="text-sm text-gray-500">Interaction notes, dev specs</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$120</p>
                        <p class="text-xs text-gray-500">8h</p>
                    </div>
                </label>
            </div>
        </section>

        <!-- Landing Page Sections -->
        <section class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <div>
                    <h2 class="text-lg font-semibold text-gray-900">Landing Page Sections</h2>
                    <p class="text-sm text-gray-500">1.5h × $15 = $23 each</p>
                </div>
                <button onclick="toggleAllLanding()" class="text-sm text-blue-600 hover:text-blue-700 font-medium">Select All</button>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3" id="landing-container">
                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="landing" value="hero" data-hours="1.5" data-price="23" checked class="w-5 h-5 text-blue-600 rounded">
                        <p class="font-medium text-gray-900">Hero Section</p>
                    </div>
                    <p class="font-semibold text-gray-900">$23</p>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="landing" value="features" data-hours="1.5" data-price="23" checked class="w-5 h-5 text-blue-600 rounded">
                        <p class="font-medium text-gray-900">Problem/Features</p>
                    </div>
                    <p class="font-semibold text-gray-900">$23</p>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="landing" value="how-it-works" data-hours="1.5" data-price="23" checked class="w-5 h-5 text-blue-600 rounded">
                        <p class="font-medium text-gray-900">How it Works</p>
                    </div>
                    <p class="font-semibold text-gray-900">$23</p>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="landing" value="social-proof" data-hours="1.5" data-price="23" checked class="w-5 h-5 text-blue-600 rounded">
                        <p class="font-medium text-gray-900">Social Proof</p>
                    </div>
                    <p class="font-semibold text-gray-900">$23</p>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="landing" value="pricing" data-hours="1.5" data-price="23" checked class="w-5 h-5 text-blue-600 rounded">
                        <p class="font-medium text-gray-900">Pricing Section</p>
                    </div>
                    <p class="font-semibold text-gray-900">$23</p>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="landing" value="faq-footer" data-hours="1.5" data-price="23" checked class="w-5 h-5 text-blue-600 rounded">
                        <p class="font-medium text-gray-900">FAQ + Footer</p>
                    </div>
                    <p class="font-semibold text-gray-900">$23</p>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition sm:col-span-2">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="landing" value="mobile-responsive" data-hours="1.5" data-price="23" checked class="w-5 h-5 text-blue-600 rounded">
                        <p class="font-medium text-gray-900">Mobile Responsive</p>
                    </div>
                    <p class="font-semibold text-gray-900">$23</p>
                </label>
            </div>
        </section>

        <!-- UI Kit Selection -->
        <section class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-2">UI Kit License</h2>
            <p class="text-sm text-gray-500 mb-4">Choose a design system foundation (one-time cost)</p>

            <div class="space-y-3" id="uikit-container">
                <label class="radio-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="radio" name="uikit" value="glow" data-price="72" checked class="w-5 h-5 text-blue-600">
                        <div>
                            <p class="font-medium text-gray-900">Glow UI</p>
                            <p class="text-sm text-gray-500">SaaS dashboards, CSS Variables</p>
                        </div>
                    </div>
                    <p class="font-semibold text-gray-900">$72</p>
                </label>

                <label class="radio-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="radio" name="uikit" value="saas" data-price="99" class="w-5 h-5 text-blue-600">
                        <div>
                            <p class="font-medium text-gray-900">SaaS UI</p>
                            <p class="text-sm text-gray-500">React apps, component library</p>
                        </div>
                    </div>
                    <p class="font-semibold text-gray-900">$99</p>
                </label>

                <label class="radio-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="radio" name="uikit" value="align" data-price="119" class="w-5 h-5 text-blue-600">
                        <div>
                            <p class="font-medium text-gray-900">AlignUI</p>
                            <p class="text-sm text-gray-500">Dashboard/SaaS, Tailwind CSS</p>
                        </div>
                    </div>
                    <p class="font-semibold text-gray-900">$119</p>
                </label>

                <label class="radio-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="radio" name="uikit" value="untitled" data-price="149" class="w-5 h-5 text-blue-600">
                        <div>
                            <p class="font-medium text-gray-900">Untitled UI</p>
                            <p class="text-sm text-gray-500">Enterprise scale, Tailwind CSS</p>
                        </div>
                    </div>
                    <p class="font-semibold text-gray-900">$149</p>
                </label>
            </div>
        </section>

        <!-- Additional Screens -->
        <section class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-2">Additional Screens</h2>
            <p class="text-sm text-gray-500 mb-4">Beyond the base 30 screens (+2h / $30 each)</p>

            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <button onclick="updateScreens(-1)" class="w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100 transition text-xl font-medium">−</button>
                    <div class="text-center min-w-[60px]">
                        <p class="text-3xl font-bold text-gray-900" id="screen-count">0</p>
                        <p class="text-xs text-gray-500">screens</p>
                    </div>
                    <button onclick="updateScreens(1)" class="w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100 transition text-xl font-medium">+</button>
                </div>
                <div class="text-right">
                    <p class="text-2xl font-bold text-gray-900">$<span id="screen-price">0</span></p>
                    <p class="text-xs text-gray-500"><span id="screen-hours">0</span>h</p>
                </div>
            </div>
        </section>

        <!-- Optional Add-ons -->
        <section class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <div>
                    <h2 class="text-lg font-semibold text-gray-900">Optional Add-ons</h2>
                    <p class="text-sm text-gray-500">Enhance your project</p>
                </div>
            </div>

            <div class="space-y-3" id="addons-container">
                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="addon" value="desktop" data-hours="50" data-price="750" class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Desktop/Tablet Design</p>
                            <p class="text-sm text-gray-500">Responsive layouts for larger screens</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$750</p>
                        <p class="text-xs text-gray-500">~50h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="addon" value="dark-mode" data-hours="38" data-price="570" class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Dark Mode Variants</p>
                            <p class="text-sm text-gray-500">Complete dark theme for all screens</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$570</p>
                        <p class="text-xs text-gray-500">~38h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="addon" value="illustrations" data-hours="20" data-price="300" class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Custom Illustrations</p>
                            <p class="text-sm text-gray-500">Branded visual assets</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$300</p>
                        <p class="text-xs text-gray-500">~20h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="addon" value="motion" data-hours="12" data-price="180" class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">Motion Design</p>
                            <p class="text-sm text-gray-500">Lottie animations & micro-interactions</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$180</p>
                        <p class="text-xs text-gray-500">~12h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="addon" value="copywriting" data-hours="18" data-price="270" class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">UX Copywriting</p>
                            <p class="text-sm text-gray-500">Microcopy, buttons, error messages</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$270</p>
                        <p class="text-xs text-gray-500">~18h</p>
                    </div>
                </label>

                <label class="checkbox-item flex items-center justify-between p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" name="addon" value="research" data-hours="25" data-price="375" class="w-5 h-5 text-blue-600 rounded">
                        <div>
                            <p class="font-medium text-gray-900">User Research & Testing</p>
                            <p class="text-sm text-gray-500">Interviews, usability testing</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-gray-900">$375</p>
                        <p class="text-xs text-gray-500">~25h</p>
                    </div>
                </label>
            </div>
        </section>

        <!-- Price Summary (Sticky) -->
        <div class="bg-white rounded-xl border border-gray-200 p-6 mb-6 sticky bottom-4 shadow-lg">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                <div>
                    <p class="text-sm text-gray-500">Total Estimate</p>
                    <div class="flex items-baseline gap-2">
                        <p class="text-3xl font-bold text-gray-900">$<span id="total-price">1,954</span></p>
                        <p class="text-sm text-gray-500">(<span id="total-hours">119.5</span>h)</p>
                    </div>
                </div>
                <div class="flex gap-3">
                    <button onclick="downloadCSV()" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                        CSV
                    </button>
                    <button onclick="showSubmitModal()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
                        Submit Quote
                    </button>
                </div>
            </div>
        </div>

        <!-- Payment Schedule -->
        <section class="bg-gray-100 rounded-xl p-6 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Payment Schedule</h2>
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                <div class="bg-white rounded-lg p-4 text-center">
                    <p class="text-2xl font-bold text-blue-600">30%</p>
                    <p class="text-sm text-gray-500">Upon signing</p>
                    <p class="text-xs text-gray-400">Discovery start</p>
                </div>
                <div class="bg-white rounded-lg p-4 text-center">
                    <p class="text-2xl font-bold text-blue-600">30%</p>
                    <p class="text-sm text-gray-500">Milestone 2</p>
                    <p class="text-xs text-gray-400">Wireframes approved</p>
                </div>
                <div class="bg-white rounded-lg p-4 text-center">
                    <p class="text-2xl font-bold text-blue-600">30%</p>
                    <p class="text-sm text-gray-500">Milestone 3</p>
                    <p class="text-xs text-gray-400">Hi-fi approved</p>
                </div>
                <div class="bg-white rounded-lg p-4 text-center">
                    <p class="text-2xl font-bold text-blue-600">10%</p>
                    <p class="text-sm text-gray-500">Final</p>
                    <p class="text-xs text-gray-400">Handoff complete</p>
                </div>
            </div>
        </section>

        <!-- Terms -->
        <section class="bg-gray-100 rounded-xl p-6 text-sm text-gray-600">
            <h3 class="font-semibold text-gray-900 mb-2">Terms & Conditions</h3>
            <ul class="list-disc list-inside space-y-1">
                <li>Quote covers up to 30 unique screens. Additional screens billed at $30/screen.</li>
                <li>Client provides all copy/content. Placeholder text used until provided.</li>
                <li>5-6 week timeline assumes 48-hour max feedback turnaround.</li>
                <li>3 revision rounds included. Additional revisions billed hourly.</li>
                <li>Mobile app design only. Desktop/tablet quoted separately.</li>
            </ul>
        </section>
    </main>

    <!-- Submit Modal -->
    <div id="submit-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-md w-full p-6">
            <h2 class="text-xl font-bold text-gray-900 mb-4">Submit Quote Request</h2>
            <form id="quote-form" onsubmit="submitQuote(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                        <input type="text" name="client_name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Your Email</label>
                        <input type="email" name="client_email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Company Name</label>
                        <input type="text" name="company" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Additional Notes</label>
                        <textarea name="notes" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
                    </div>
                    <label class="flex items-start gap-3">
                        <input type="checkbox" name="terms" required class="mt-1 w-4 h-4 text-blue-600 rounded">
                        <span class="text-sm text-gray-600">I agree to the terms and conditions outlined above</span>
                    </label>
                </div>
                <div class="flex gap-3 mt-6">
                    <button type="button" onclick="hideSubmitModal()" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition">Cancel</button>
                    <button type="submit" id="submit-btn" class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-md w-full p-6 text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
            </div>
            <h2 class="text-xl font-bold text-gray-900 mb-2">Quote Submitted!</h2>
            <p class="text-gray-600 mb-6">Thank you! Your quote request has been sent. I'll review and get back to you within 24-48 hours.</p>
            <button onclick="hideSuccessModal()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">Close</button>
        </div>
    </div>

    <script>
        // State
        let additionalScreens = 0;
        const RATE = 15;
        const SCREEN_HOURS = 2;
        const SCREEN_PRICE = 30;

        // Initialize EmailJS
        (function() {
            emailjs.init("YOUR_PUBLIC_KEY"); // Replace with your EmailJS public key
        })();

        // Calculate total price
        function calculateTotal() {
            let totalPrice = 0;
            let totalHours = 0;

            // Design Phases
            document.querySelectorAll('input[name="phase"]:checked').forEach(input => {
                totalPrice += parseFloat(input.dataset.price);
                totalHours += parseFloat(input.dataset.hours);
            });

            // Landing Page Sections
            document.querySelectorAll('input[name="landing"]:checked').forEach(input => {
                totalPrice += parseFloat(input.dataset.price);
                totalHours += parseFloat(input.dataset.hours);
            });

            // UI Kit
            const uikit = document.querySelector('input[name="uikit"]:checked');
            if (uikit) {
                totalPrice += parseFloat(uikit.dataset.price);
            }

            // Additional Screens
            totalPrice += additionalScreens * SCREEN_PRICE;
            totalHours += additionalScreens * SCREEN_HOURS;

            // Add-ons
            document.querySelectorAll('input[name="addon"]:checked').forEach(input => {
                totalPrice += parseFloat(input.dataset.price);
                totalHours += parseFloat(input.dataset.hours);
            });

            // Update display
            document.getElementById('total-price').textContent = totalPrice.toLocaleString();
            document.getElementById('total-hours').textContent = totalHours;
        }

        // Update additional screens
        function updateScreens(delta) {
            additionalScreens = Math.max(0, additionalScreens + delta);
            document.getElementById('screen-count').textContent = additionalScreens;
            document.getElementById('screen-price').textContent = additionalScreens * SCREEN_PRICE;
            document.getElementById('screen-hours').textContent = additionalScreens * SCREEN_HOURS;
            calculateTotal();
        }

        // Toggle all phases
        function toggleAllPhases() {
            const checkboxes = document.querySelectorAll('input[name="phase"]');
            const allChecked = Array.from(checkboxes).every(cb => cb.checked);
            checkboxes.forEach(cb => cb.checked = !allChecked);
            calculateTotal();
        }

        // Toggle all landing sections
        function toggleAllLanding() {
            const checkboxes = document.querySelectorAll('input[name="landing"]');
            const allChecked = Array.from(checkboxes).every(cb => cb.checked);
            checkboxes.forEach(cb => cb.checked = !allChecked);
            calculateTotal();
        }

        // Download CSV
        function downloadCSV() {
            const rows = [['Item', 'Hours', 'Price']];

            // Design Phases
            document.querySelectorAll('input[name="phase"]:checked').forEach(input => {
                const label = input.closest('label').querySelector('.font-medium').textContent;
                rows.push([label, input.dataset.hours, '$' + input.dataset.price]);
            });

            // Landing Sections
            document.querySelectorAll('input[name="landing"]:checked').forEach(input => {
                const label = input.closest('label').querySelector('.font-medium').textContent;
                rows.push([label, input.dataset.hours, '$' + input.dataset.price]);
            });

            // UI Kit
            const uikit = document.querySelector('input[name="uikit"]:checked');
            if (uikit) {
                const label = uikit.closest('label').querySelector('.font-medium').textContent;
                rows.push([label + ' License', '-', '$' + uikit.dataset.price]);
            }

            // Additional Screens
            if (additionalScreens > 0) {
                rows.push(['Additional Screens (' + additionalScreens + ')', additionalScreens * SCREEN_HOURS, '$' + (additionalScreens * SCREEN_PRICE)]);
            }

            // Add-ons
            document.querySelectorAll('input[name="addon"]:checked').forEach(input => {
                const label = input.closest('label').querySelector('.font-medium').textContent;
                rows.push([label, input.dataset.hours, '$' + input.dataset.price]);
            });

            // Total
            rows.push(['', '', '']);
            rows.push(['TOTAL', document.getElementById('total-hours').textContent + 'h', '$' + document.getElementById('total-price').textContent]);

            // Generate CSV
            const csv = rows.map(row => row.map(cell => '"' + cell + '"').join(',')).join('\n');
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'x-project-quote.csv';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Modal functions
        function showSubmitModal() {
            document.getElementById('submit-modal').classList.remove('hidden');
            document.getElementById('submit-modal').classList.add('flex');
        }

        function hideSubmitModal() {
            document.getElementById('submit-modal').classList.add('hidden');
            document.getElementById('submit-modal').classList.remove('flex');
        }

        function showSuccessModal() {
            document.getElementById('success-modal').classList.remove('hidden');
            document.getElementById('success-modal').classList.add('flex');
        }

        function hideSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
            document.getElementById('success-modal').classList.remove('flex');
        }

        // Build quote summary for email
        function buildQuoteSummary() {
            let summary = [];

            summary.push('=== DESIGN PHASES ===');
            document.querySelectorAll('input[name="phase"]:checked').forEach(input => {
                const label = input.closest('label').querySelector('.font-medium').textContent;
                summary.push(`${label}: ${input.dataset.hours}h - $${input.dataset.price}`);
            });

            summary.push('\n=== LANDING PAGE SECTIONS ===');
            document.querySelectorAll('input[name="landing"]:checked').forEach(input => {
                const label = input.closest('label').querySelector('.font-medium').textContent;
                summary.push(`${label}: ${input.dataset.hours}h - $${input.dataset.price}`);
            });

            const uikit = document.querySelector('input[name="uikit"]:checked');
            if (uikit) {
                const label = uikit.closest('label').querySelector('.font-medium').textContent;
                summary.push(`\n=== UI KIT ===\n${label}: $${uikit.dataset.price}`);
            }

            if (additionalScreens > 0) {
                summary.push(`\n=== ADDITIONAL SCREENS ===\n${additionalScreens} screens: ${additionalScreens * SCREEN_HOURS}h - $${additionalScreens * SCREEN_PRICE}`);
            }

            const addons = document.querySelectorAll('input[name="addon"]:checked');
            if (addons.length > 0) {
                summary.push('\n=== ADD-ONS ===');
                addons.forEach(input => {
                    const label = input.closest('label').querySelector('.font-medium').textContent;
                    summary.push(`${label}: ${input.dataset.hours}h - $${input.dataset.price}`);
                });
            }

            summary.push(`\n=== TOTAL ===\nHours: ${document.getElementById('total-hours').textContent}h\nPrice: $${document.getElementById('total-price').textContent}`);

            return summary.join('\n');
        }

        // Submit quote
        async function submitQuote(event) {
            event.preventDefault();
            const form = event.target;
            const submitBtn = document.getElementById('submit-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';

            const formData = new FormData(form);
            const quoteSummary = buildQuoteSummary();

            // Build email content
            const emailBody = `
New Quote Request from X Project Quote Tool

CLIENT INFORMATION
==================
Name: ${formData.get('client_name')}
Email: ${formData.get('client_email')}
Company: ${formData.get('company') || 'Not provided'}

NOTES
=====
${formData.get('notes') || 'None'}

QUOTE DETAILS
=============
${quoteSummary}

---
Submitted via X Project Quote Tool
            `.trim();

            // Try using EmailJS (if configured) or fallback to mailto
            try {
                // Option 1: EmailJS (requires setup)
                // await emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', {
                //     to_email: 'thanh.quoc731@gmail.com',
                //     from_name: formData.get('client_name'),
                //     from_email: formData.get('client_email'),
                //     message: emailBody
                // });

                // Option 2: Mailto fallback
                const mailtoLink = `mailto:thanh.quoc731@gmail.com?subject=${encodeURIComponent('X Project Quote Request - ' + formData.get('client_name'))}&body=${encodeURIComponent(emailBody)}`;
                window.location.href = mailtoLink;

                hideSubmitModal();
                showSuccessModal();
                form.reset();
            } catch (error) {
                console.error('Error:', error);
                alert('Error sending quote. Please try again or email directly to thanh.quoc731@gmail.com');
            }

            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit';
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Listen for all checkbox/radio changes
            document.querySelectorAll('input[type="checkbox"], input[type="radio"]').forEach(input => {
                input.addEventListener('change', calculateTotal);
            });

            // Initial calculation
            calculateTotal();
        });
    </script>
</body>
</html>
